(this.webpackJsonpmine=this.webpackJsonpmine||[]).push([[0],{12:function(e,t,a){"use strict";a.r(t);var r=a(7),i=a(8),n=a(11),o=a(10),s=a(2),h=a.n(s),c=a(9),v=a.n(c),d=(a(17),a(1)),l=a(0);function f(e,t){return Math.floor(Math.random()*(t-e)+e)}var u=function(e){Object(n.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={board:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],gmaeOver:!1},i}return Object(i.a)(a,[{key:"initBoard",value:function(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=f(0,4),a=f(0,4),r=f(0,4),i=f(0,4);e[t][r]=2*f(1,3),e[a][i]=2*f(1,3),this.setState({board:e,gmaeOver:!1})}},{key:"getBlankCoordinates",value:function(e){for(var t=[],a=0;a<e.length;a++)for(var r=0;r<e[a].length;r++)0===e[a][r]&&t.push([a,r]);return t}},{key:"placeRand",value:function(e){var t=this.getBlankCoordinates(e),a=t[Math.floor(Math.random()*t.length)],r=2*f(1,3);return e[a[0]][a[1]]=r,e}},{key:"isChanged",value:function(e,t){return JSON.stringify(t)!==JSON.stringify(e)}},{key:"up",value:function(e){for(var t=d(e),a=d(t),r=0;r<4;r++)for(var i=0;i<4;i++)if(0===t[i][r]){for(var n=i+1;n<4&&0===t[n][r];)n++;if(4===n)break;var o=t[n][r];t[n][r]=t[i][r],t[i][r]=o}for(var s=0;s<4;s++)for(var h=0;h<3;h++)if(t[h][s]===t[h+1][s]){t[h][s]*=2;for(var c=h+1;c<3;)t[c][s]=t[c+1][s],c++;t[c][s]=0}return this.isChanged(a,t)&&(t=this.placeRand(t)),t}},{key:"down",value:function(e){for(var t=d(e),a=d(t),r=0;r<4;r++)for(var i=3;i>0;i--)if(0===t[i][r]){for(var n=i-1;n>=0&&0===t[n][r];)n--;if(-1===n)break;var o=t[n][r];t[n][r]=t[i][r],t[i][r]=o}for(var s=0;s<4;s++)for(var h=3;h>0;h--)if(t[h][s]===t[h-1][s]){t[h][s]*=2;for(var c=h-1;c>0;)t[c][s]=t[c-1][s],c--;t[c][s]=0}return this.isChanged(a,t)&&(t=this.placeRand(t)),t}},{key:"right",value:function(e){for(var t=d(e),a=d(t),r=0;r<4;r++)for(var i=3;i>0;i--)if(0===t[r][i]){for(var n=i-1;n>=0&&0===t[r][n];)n--;if(-1===n)break;var o=t[r][n];t[r][n]=t[r][i],t[r][i]=o}for(var s=0;s<4;s++)for(var h=3;h>0;h--)if(t[s][h]===t[s][h-1]){t[s][h]*=2;for(var c=h-1;c>0;)t[s][c]=t[s][c-1],c--;t[s][c]=0}return this.isChanged(a,t)&&(t=this.placeRand(t)),t}},{key:"left",value:function(e){for(var t=d(e),a=d(t),r=0;r<4;r++)for(var i=0;i<4;i++)if(0===t[r][i]){for(var n=i+1;n<4&&0===t[r][n];)n++;if(4===n)break;var o=t[r][n];t[r][n]=t[r][i],t[r][i]=o}for(var s=0;s<4;s++)for(var h=0;h<3;h++)if(t[s][h]===t[s][h+1]){t[s][h]*=2;for(var c=h+1;c<3;)t[s][c]=t[s][c+1],c++;t[s][c]=0}return this.isChanged(a,t)&&(t=this.placeRand(t)),t}},{key:"isGameOver",value:function(e){return![this.isChanged(e,this.up(e)),this.isChanged(e,this.down(e)),this.isChanged(e,this.right(e)),this.isChanged(e,this.left(e))].includes(!0)}},{key:"componentWillMount",value:function(){this.initBoard(),document.querySelector("body").addEventListener("keydown",this.handleKeyDown.bind(this))}},{key:"handleKeyDown",value:function(e){console.log(e.keyCode),38===e.keyCode?this.makeMove("up"):39===e.keyCode?this.makeMove("right"):40===e.keyCode?this.makeMove("down"):37===e.keyCode?this.makeMove("left"):78===e.keyCode&&this.initBoard()}},{key:"makeMove",value:function(e){if(!this.state.gmaeOver)if("up"===e){var t=this.up(this.state.board);this.isGameOver(t)?this.setState({board:t,gmaeOver:!0}):this.setState({board:t,gmaeOver:!1})}else if("down"===e){var a=this.down(this.state.board);this.isGameOver(a)?this.setState({board:a,gmaeOver:!0}):this.setState({board:a,gmaeOver:!1})}else if("right"===e){var r=this.right(this.state.board);this.isGameOver(r)?this.setState({board:r,gmaeOver:!0}):this.setState({board:r,gmaeOver:!1})}else if("left"===e){var i=this.left(this.state.board);this.isGameOver(i)?this.setState({board:i,gmaeOver:!0}):this.setState({board:i,gmaeOver:!1})}}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"2048!"}),Object(l.jsx)("table",{children:this.state.board.map((function(e,t){return Object(l.jsx)(b,{row:e},t)}))}),Object(l.jsx)("div",{className:"button",onClick:function(){e.initBoard()},children:"New Game"}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)("div",{className:"button",onClick:function(){e.makeMove("up")},children:"Up"}),Object(l.jsx)("div",{className:"button",onClick:function(){e.makeMove("down")},children:"down"}),Object(l.jsx)("div",{className:"button",onClick:function(){e.makeMove("right")},children:"right"}),Object(l.jsx)("div",{className:"button",onClick:function(){e.makeMove("left")},children:"Left"})]}),Object(l.jsx)("h2",{children:this.state.gmaeOver?"Game Over!":"Game on!!"})]})}}]),a}(h.a.Component),b=function(e){var t=e.row;return Object(l.jsx)("tr",{children:t.map((function(e,t){return Object(l.jsx)(m,{cellValue:e},t)}))})},m=function(e){var t=e.cellValue,a="cell",r=0===t?"":t;return r&&(a+=" color-".concat(r)),Object(l.jsx)("td",{children:Object(l.jsx)("div",{className:a,children:Object(l.jsx)("div",{className:"number",children:r})})})};v.a.render(Object(l.jsx)(u,{}),document.getElementById("root"))},17:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.7a781bb4.chunk.js.map